<!DOCTYPE html>
<html>
  <head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Papaya HUANG</title>
  <!-- add alifont -->

  <link
    rel="stylesheet"
    type="text/css"
    href="https://at.alicdn.com/t/c/font_2719161_qrg05vxlp7.css"
  />
  <!-- add style -->
  
<link rel="stylesheet" href="/css/style.css">

  <!-- add font-->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100&display=swap"
    rel="stylesheet"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;1,300;1,400&display=swap"
    rel="stylesheet"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;300;400;500;600&display=swap"
    rel="stylesheet"
  />
<meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


  <body>
    <header>
  <ul class="navbar">
    <li>
      <a href="/">
        <i class="icon iconfont icon-xuanzhongshangcheng"></i>
      </a>
    </li>
    <li>
      <a href="/about">
        <i class="icon iconfont icon-about"></i>
      </a>
    </li>
    <li>
      <a href="/projects">
        <i class="icon iconfont icon-project"></i>
      </a>
    </li>
    <li>
      <a href="/categories">
        <i class="icon iconfont icon-case-file-full"></i>
      </a>
    </li>
    <li>
      <a href="/archives">
        <i class="icon iconfont icon-Artboard2"></i>
      </a>
    </li>
  </ul>
</header>

    <aside>
  <div class="menu">
    

    <a class="menu-item" href="/">Home</a>

    

    <a class="menu-item" href="/about">About</a>

    

    <a class="menu-item" href="/projects">Projects</a>

    

    <a class="menu-item" href="/categories">Categories</a>

    

    <a class="menu-item" href="/archives">Archives</a>

    
  
  </div>
</aside>


    <div class="main"><div class="blog-post">
  
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%95%88%E6%9E%9C"><span class="toc-text">项目效果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D"><span class="toc-text">项目介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%AE%9E%E7%8E%B0%E7%9B%AE%E6%A0%87"><span class="toc-text">项目实现目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%AE%9E%E7%8E%B0%E8%BF%90%E7%94%A8%E7%9A%84JS%E6%96%B9%E6%B3%95"><span class="toc-text">项目实现运用的JS方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF"><span class="toc-text">代码基本思路</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E6%8B%86%E5%88%86"><span class="toc-text">问题拆分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B0%E5%88%86%E6%9D%BF%E7%9A%84%E5%8A%A8%E7%94%BB"><span class="toc-text">记分板的动画</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E6%81%90%E9%BE%99%E7%9A%84%E8%B7%B3%E8%B7%83"><span class="toc-text">小恐龙的跳跃</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E6%97%A0%E9%99%90%E5%90%91%E5%B7%A6%E7%A7%BB%E5%8A%A8"><span class="toc-text">背景无限向左移动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%9C%E4%B8%BA%E9%9A%9C%E7%A2%8D%E7%9A%84%E4%BB%99%E4%BA%BA%E6%8E%8C"><span class="toc-text">作为障碍的仙人掌</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%88%86%E7%B1%BB"><span class="toc-text">函数分类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%81%87%E5%88%B0%E7%9A%84%E5%9B%B0%E9%9A%BE"><span class="toc-text">练习遇到的困难</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%97%A0%E9%99%90%E5%90%91%E5%B7%A6%E7%A7%BB%E5%8A%A8%E8%83%8C%E6%99%AF"><span class="toc-text">绘制无限向左移动背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%99%E4%BA%BA%E6%8E%8C%E7%9A%84%E7%94%9F%E6%88%90%E5%92%8C%E7%A7%BB%E5%8A%A8"><span class="toc-text">仙人掌的生成和移动</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E4%BB%A3%E7%A0%81%E5%9C%B0%E5%9D%80"><span class="toc-text">项目代码地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93"><span class="toc-text">项目总结</span></a></li></ol>
  <div class='blog-main'>

    <!-- title -->
    <h2 class="blog-post-title">
      <a href="/2021/06/05/t-rex/">
        项目练习 —— T-rex模仿练习
      </a>
    </h2>
  
    <!-- date and author -->
    <p class="blog-post-meta">
      2021-06-05 
    </p>
  
  
    <!-- content -->
    <div class="post-content">
      <h2 id="项目效果"><a href="#项目效果" class="headerlink" title="项目效果"></a>项目效果</h2><p><img src="https://raw.githubusercontent.com/PapayaHUANG/images/main/img/t-rex.png" alt="效果图"></p>
<h2 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h2><ul>
<li><p>T-rex就是google搜索主页在非联网状态google搜索框上方的小恐龙游戏。</p>
</li>
<li><p>在这个项目练习当中我将使用vanilla JS实现t-rex的核心功能。</p>
</li>
</ul>
<h2 id="项目实现目标"><a href="#项目实现目标" class="headerlink" title="项目实现目标"></a>项目实现目标</h2><ol>
<li><p>画面包含：记分板、小恐龙、背景、作为障碍的仙人掌；</p>
</li>
<li><p>动态效果实现：</p>
</li>
</ol>
<ul>
<li><p>记分板实时更新分数，</p>
</li>
<li><p>小恐龙可以通过空格键控制跳跃，</p>
</li>
<li><p>背景会循环向左滚动，</p>
</li>
<li><p>仙人掌会随机生成并向左移动。</p>
</li>
</ul>
<h2 id="项目实现运用的JS方法"><a href="#项目实现运用的JS方法" class="headerlink" title="项目实现运用的JS方法"></a>项目实现运用的JS方法</h2><ol>
<li><p><code>appendChild()</code>；</p>
</li>
<li><p><code>setInterval()</code>;</p>
</li>
<li><p><code>setTimeout()</code>;</p>
</li>
<li><p>针对html5的canvas和JS结合实现背景无限循环滚动.</p>
</li>
</ol>
<h2 id="代码基本思路"><a href="#代码基本思路" class="headerlink" title="代码基本思路"></a>代码基本思路</h2><p>这个小游戏主要需要解决两个问题：</p>
<ol>
<li><p>小恐龙、仙人掌、记分板的移动动画。这个主要用<code>setInterval()</code>以及<code>setTimeout()</code>来反复调用同一个函数来实现；</p>
</li>
<li><p>函数分类。一部分是在游戏进行时运行；一部分是在游戏结束时运行；一部分为引发游戏结束的函数。</p>
</li>
</ol>
<h3 id="问题拆分"><a href="#问题拆分" class="headerlink" title="问题拆分"></a>问题拆分</h3><h4 id="记分板的动画"><a href="#记分板的动画" class="headerlink" title="记分板的动画"></a>记分板的动画</h4><p>我需要每秒实时更新记分板的数字，先创建一个<code>scoreTimerId</code>的变量，然后用<code>setInterval()</code>来实现：</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">   <span class="token keyword">function</span> <span class="token function">countScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">let</span> second <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

     scoreTimerId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        second <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        score<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"Score  "</span> <span class="token operator">+</span> second<span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="小恐龙的跳跃"><a href="#小恐龙的跳跃" class="headerlink" title="小恐龙的跳跃"></a>小恐龙的跳跃</h4><p>小恐龙的跳跃分成向上和向下两个函数，两个函数分别用<code>setInterval()</code>来实现:</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">   <span class="token keyword">function</span> <span class="token function">jump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>isJump<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span>downTimerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
      upTimerId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         bottomSpace <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
         dino<span class="token punctuation">.</span>style<span class="token punctuation">.</span>bottom <span class="token operator">=</span> bottomSpace <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>bottomSpace <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">fall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">function</span> <span class="token function">fall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token function">clearInterval</span><span class="token punctuation">(</span>upTimerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
   downTimerId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      isJump <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      bottomSpace <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
      dino<span class="token punctuation">.</span>style<span class="token punctuation">.</span>bottom <span class="token operator">=</span> bottomSpace <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>bottomSpace <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         bottomSpace <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
         dino<span class="token punctuation">.</span>style<span class="token punctuation">.</span>bottom <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="背景无限向左移动"><a href="#背景无限向左移动" class="headerlink" title="背景无限向左移动"></a>背景无限向左移动</h4><p>这个的实现稍微复杂一些，我会在难点中详细说明；</p>
<h4 id="作为障碍的仙人掌"><a href="#作为障碍的仙人掌" class="headerlink" title="作为障碍的仙人掌"></a>作为障碍的仙人掌</h4><p>我需要仙人掌在固定点随机时间生成，这里会结合<code>setTimeout()</code>和<code>appendChild()</code>，然后再使生成的仙人掌向左移动，当仙人掌到达屏幕最左端的时候消失，这里会结合<code>removeChild()</code>和<code>setInterval()</code>;</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">    <span class="token keyword">function</span> <span class="token function">createCactus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">let</span> cactusLeftSpace <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
     <span class="token keyword">let</span> randomTime <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5000</span><span class="token punctuation">;</span>

     <span class="token keyword">const</span> cactus <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     grid<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>cactus<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment" spellcheck="true">//省略仙人掌生成的位置相关代码</span>

      <span class="token keyword">let</span> timerId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>cactusLeftSpace <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">clearInterval</span><span class="token punctuation">(</span>timerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
          grid<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token comment" spellcheck="true">//省略中间步骤</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isOver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       grid<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>grid<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//确保游戏结束时不会有新的仙人掌</span>
       <span class="token function">clearTimeout</span><span class="token punctuation">(</span>createCactus<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="函数分类"><a href="#函数分类" class="headerlink" title="函数分类"></a>函数分类</h4><p>需要提前设定好一个boolean值，然后插入到每个函数即可。</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">   <span class="token keyword">let</span> isJump <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> isOver <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="练习遇到的困难"><a href="#练习遇到的困难" class="headerlink" title="练习遇到的困难"></a>练习遇到的困难</h2><h3 id="绘制无限向左移动背景"><a href="#绘制无限向左移动背景" class="headerlink" title="绘制无限向左移动背景"></a>绘制无限向左移动背景</h3><p>这里结合了html5的canvas功能和js来实现，具体的原理就是动态绘制两个相同的图片，代码如下：</p>
<pre class="line-numbers language-html"><code class="language-html">   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>background<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-javascript"><code class="language-javascript">
<span class="token comment" spellcheck="true">//选取对应元素</span>

   <span class="token keyword">const</span> background <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//确定绘制方法：</span>

   <span class="token keyword">let</span> ctx <span class="token operator">=</span> background<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//确定画布大小（在这个case里即整个背景板的大小）</span>

   background<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

   background<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//用Image（）创建需要使用的图片</span>

   <span class="token keyword">let</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"t-rex-background.png"</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//创建两张图片，确定两张图片左端起始点</span>

   <span class="token keyword">function</span> <span class="token function">createBackground</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">let</span> imgWidth <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
     <span class="token keyword">let</span> scrollSpeed <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
     <span class="token keyword">function</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> imgWidth <span class="token operator">-</span> <span class="token number">525</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> imgWidth <span class="token operator">-</span> background<span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        imgWidth <span class="token operator">-</span><span class="token operator">=</span> scrollSpeed<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>imgWidth <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> imgWidth <span class="token operator">=</span> background<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//省略中间步骤</span>
       <span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//用requestAnimationFrame（）来实现滚动</span>
        window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>loop<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这里我遇到的主要问题是两个图片确实实现了向左移动，但是两个图片之间有空隙衔接不上.</p>
<p>问题出现在我没有考虑到图片本身的大小，只考虑了容器的大小，当我把第一张图片最左端值修改为imgWidth-525（图片本身的宽度）问题就解决了。</p>
<p>这个滚动实现的方法参考了这个博客：<br><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/html5-game-development-infinitely-scrolling-background/">HTML5 Game Development| Infinitely Scrolling Background - GeeksforGeeks</a></p>
<h3 id="仙人掌的生成和移动"><a href="#仙人掌的生成和移动" class="headerlink" title="仙人掌的生成和移动"></a>仙人掌的生成和移动</h3><p>这里的方法是先用<code>document.createElement(&quot;div&quot;)</code>创建一个新的div元素，然后再把这个<code>div</code>用<code>appendChild()</code>的方法添加成为grid的子元素，再使用<code>setTimeout()</code>在函数内部随机时间调用函数本身。</p>
<p>这里我遇到的问题是一开始我不知道<code>appendChild()</code><strong>添加同一个名称是不会生成新的节点</strong>，所以一开始我的<code>cactus</code>是一个全局变量，导致代码运行无法实现我的需要的效果，但当把<code>cactus</code>变成函数内变量时，就可以实现我想要的效果了。</p>
<h2 id="项目代码地址"><a href="#项目代码地址" class="headerlink" title="项目代码地址"></a>项目代码地址</h2><p><a target="_blank" rel="noopener" href="https://github.com/PapayaHUANG/T-rex">https://github.com/PapayaHUANG/T-rex</a></p>
<h2 id="项目总结"><a href="#项目总结" class="headerlink" title="项目总结"></a>项目总结</h2><p>通过这个项目我练习了前文所提到的方法，加深了对这些方法的理解。并且暴露出来了我对变量的作用域不熟悉的问题，这方面需要加强。</p>

    </div>
  
    <hr>
    
    
       <!-- categories -->
    
       
    <span class="post-categories">
      <i class='icon iconfont icon-icon-goodscategory'></i>
      <a href="/categories/项目练习/">项目练习</a>
    </span>
    
    
       <!-- tag -->
     
    
    <span class="post-tags">
      <i class="icon iconfont icon-tag"></i>
      <a href="/tags/js/">js</a>
    </span>
    
  </div>
</div>


</div>
  
  </body>
</html>

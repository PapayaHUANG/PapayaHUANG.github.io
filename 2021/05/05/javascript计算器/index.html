<!DOCTYPE html>
<html>
  <head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Papaya HUANG</title>
  <!-- add alifont -->

  <link
    rel="stylesheet"
    type="text/css"
    href="https://at.alicdn.com/t/c/font_2719161_qrg05vxlp7.css"
  />
  <!-- add style -->
  
<link rel="stylesheet" href="/css/style.css">

  <!-- add font-->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100&display=swap"
    rel="stylesheet"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;1,300;1,400&display=swap"
    rel="stylesheet"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;300;400;500;600&display=swap"
    rel="stylesheet"
  />
<meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


  <body>
    <header>
  <ul class="navbar">
    <li>
      <a href="/">
        <i class="icon iconfont icon-xuanzhongshangcheng"></i>
      </a>
    </li>
    <li>
      <a href="/about">
        <i class="icon iconfont icon-about"></i>
      </a>
    </li>
    <li>
      <a href="/projects">
        <i class="icon iconfont icon-project"></i>
      </a>
    </li>
    <li>
      <a href="/categories">
        <i class="icon iconfont icon-case-file-full"></i>
      </a>
    </li>
    <li>
      <a href="/archives">
        <i class="icon iconfont icon-Artboard2"></i>
      </a>
    </li>
  </ul>
</header>

    <aside>
  <div class="menu">
    

    <a class="menu-item" href="/">Home</a>

    

    <a class="menu-item" href="/about">About</a>

    

    <a class="menu-item" href="/projects">Projects</a>

    

    <a class="menu-item" href="/categories">Categories</a>

    

    <a class="menu-item" href="/archives">Archives</a>

    
  
  </div>
</aside>


    <div class="main"><div class="blog-post">
  
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E7%9B%AE%E7%9A%84"><span class="toc-text">练习目的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-text">实现方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8html%E5%92%8Ccss%E6%90%AD%E5%BB%BA%E5%A5%BD%E8%AE%A1%E7%AE%97%E5%99%A8%E7%9A%84%E6%A1%86%E6%9E%B6"><span class="toc-text">用html和css搭建好计算器的框架</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%99%A8%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-text">计算器的组成部分</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E9%83%A8%E5%88%86"><span class="toc-text">功能部分</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E6%8C%89%E9%94%AE"><span class="toc-text">监听按键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E5%AE%9A%E5%B9%B6%E5%8C%BA%E5%88%86%E6%98%BE%E7%A4%BA%E9%83%A8%E5%88%86"><span class="toc-text">选定并区分显示部分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E8%AE%A1%E7%AE%97%E5%99%A8class%E5%AF%B9%E8%B1%A1"><span class="toc-text">构建计算器class对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A9%E6%88%91%E4%BB%AC%E7%BC%96%E5%86%99%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8%E7%BB%A7%E6%89%BF%E8%BF%99%E4%B8%AAclass%E5%8E%9F%E5%9E%8B"><span class="toc-text">让我们编写的计算器继承这个class原型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E8%AE%A1%E7%AE%97%E5%99%A8%E8%A6%81%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-text">判断计算器要实现的功能</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%9C%B0%E5%9D%80"><span class="toc-text">项目地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-text">参考资料</span></a></li></ol>
  <div class='blog-main'>

    <!-- title -->
    <h2 class="blog-post-title">
      <a href="/2021/05/05/javascript计算器/">
        项目练习 —— Javascript计算器
      </a>
    </h2>
  
    <!-- date and author -->
    <p class="blog-post-meta">
      2021-05-05 
    </p>
  
  
    <!-- content -->
    <div class="post-content">
      <h2 id="练习目的"><a href="#练习目的" class="headerlink" title="练习目的"></a>练习目的</h2><p>用Vanilla JS来构建一个可以实现简单计算功能的计算器。</p>
<h2 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h2><h3 id="用html和css搭建好计算器的框架"><a href="#用html和css搭建好计算器的框架" class="headerlink" title="用html和css搭建好计算器的框架"></a>用html和css搭建好计算器的框架</h3><h4 id="计算器的组成部分"><a href="#计算器的组成部分" class="headerlink" title="计算器的组成部分"></a>计算器的组成部分</h4><p><img src="https://raw.githubusercontent.com/PapayaHUANG/images/main/img/20210821163958.png" alt="计算器展示图"></p>
<ul>
<li>可以把计算器分成两个部分，一个是显示部分（display），一个是计算机的按键（calculator）<pre class="line-numbers language-html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>calculator-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>display<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>previous<span class="token punctuation">"</span></span> <span class="token attr-name">data-previous-operand</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>current<span class="token punctuation">"</span></span> <span class="token attr-name">data-current-operand</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-operand</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>symbol<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>add<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
      ...
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>在样式方面，是采用了<code>grid-box</code>的方式<pre class="line-numbers language-css"><code class="language-css">  <span class="token selector"><span class="token id">#calculator-container</span> </span><span class="token punctuation">{</span>
     <span class="token property">display</span><span class="token punctuation">:</span>grid<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li>按键可以分为四种：</li>
</ul>
<ol>
<li>数字键（0-9）</li>
<li>运算键（+，—，x，➗）</li>
<li>等于键</li>
<li>清除键</li>
</ol>
<p>这样就基本上把计算器的框架搭出来了。</p>
<h3 id="功能部分"><a href="#功能部分" class="headerlink" title="功能部分"></a>功能部分</h3><h4 id="监听按键"><a href="#监听按键" class="headerlink" title="监听按键"></a>监听按键</h4><pre class="line-numbers language-javascript"><code class="language-javascript">    <span class="token keyword">const</span> numberButtons <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'[data-number]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> operationButtons <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'[data-operand'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> equalsButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[data-equals]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> deleteButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[data-delete]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-javascript"><code class="language-javascript">    numberButtons<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>button <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//Do something</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    equalsButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>
        calculator<span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        calculator<span class="token punctuation">.</span><span class="token function">updateDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="选定并区分显示部分"><a href="#选定并区分显示部分" class="headerlink" title="选定并区分显示部分"></a>选定并区分显示部分</h4><p><img src="https://raw.githubusercontent.com/PapayaHUANG/images/main/img/20210821221145.png" alt="计算器显示部分"><br>我把显示部分分为了：<br><strong>current</strong>：<br>即点击数字按键后这部分会把数字显示出来；<br>点击等于键后该区域会显示出运算结果；<br><strong>previous</strong>：<br>一旦点击了运算键，数字和运算符会显示到previous；</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">    <span class="token keyword">const</span> previousOperandTextElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[data-previous-operand]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> currentOperandTextElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[data-current-operand]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="构建计算器class对象"><a href="#构建计算器class对象" class="headerlink" title="构建计算器class对象"></a>构建计算器class对象</h4><pre class="line-numbers language-javascript"><code class="language-javascript">    <span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span>
        
        <span class="token function">constructor</span><span class="token punctuation">(</span>previousOperandTextElement<span class="token punctuation">,</span> currentOperandTextElement<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>previousOperandTextElement <span class="token operator">=</span> previousOperandTextElement<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>currentOperandTextElement <span class="token operator">=</span> currentOperandTextElement<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="让我们编写的计算器继承这个class原型"><a href="#让我们编写的计算器继承这个class原型" class="headerlink" title="让我们编写的计算器继承这个class原型"></a>让我们编写的计算器继承这个class原型</h4><pre class="line-numbers language-javascript"><code class="language-javascript">    <span class="token keyword">const</span> calculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">(</span>previousOperandTextElement<span class="token punctuation">,</span> 
        currentOperandTextElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="判断计算器要实现的功能"><a href="#判断计算器要实现的功能" class="headerlink" title="判断计算器要实现的功能"></a>判断计算器要实现的功能</h3><ol>
<li>点击数字键current显示器会显示数字；</li>
<li>点击运算键所有显示数据会移动到previous显示器；</li>
<li>点进运算键进行相应的数学运算；</li>
<li>点击等于键current显示器显示出运算结果；</li>
<li>点击清除键清楚所有信息；</li>
<li>小数点只可点击一次；</li>
</ol>
<p>确认了计算器要实现的功能就可以在class原型中编写这些功能。</p>
<h2 id="项目地址"><a href="#项目地址" class="headerlink" title="项目地址"></a>项目地址</h2><p><a target="_blank" rel="noopener" href="https://github.com/PapayaHUANG/JS-calculator">https://github.com/PapayaHUANG/JS-calculator</a></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://www.freecodecamp.org/news/how-to-build-an-html-calculator-app-from-scratch-using-javascript-4454b8714b98/">How to build an HTML calculator app from scratch using JavaSript - FCC - Zell Liew</a></p>

    </div>
  
    <hr>
    
    
       <!-- categories -->
    
       
    <span class="post-categories">
      <i class='icon iconfont icon-icon-goodscategory'></i>
      <a href="/categories/项目练习/">项目练习</a>
    </span>
    
    
       <!-- tag -->
     
    
    <span class="post-tags">
      <i class="icon iconfont icon-tag"></i>
      <a href="/tags/javascript/">javascript</a>
    </span>
    
  </div>
</div>


</div>
  
  </body>
</html>

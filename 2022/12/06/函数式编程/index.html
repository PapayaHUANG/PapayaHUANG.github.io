<!DOCTYPE html>
<html>
  <head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Papaya HUANG</title>
  <!-- add alifont -->

  <link
    rel="stylesheet"
    type="text/css"
    href="https://at.alicdn.com/t/c/font_2719161_qrg05vxlp7.css"
  />
  <!-- add style -->
  
<link rel="stylesheet" href="/css/style.css">

  <!-- add font-->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100&display=swap"
    rel="stylesheet"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,600;1,300;1,400&display=swap"
    rel="stylesheet"
  />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;300;400;500;600&display=swap"
    rel="stylesheet"
  />
<meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


  <body>
    <header>
  <ul class="navbar">
    <li>
      <a href="/">
        <i class="icon iconfont icon-xuanzhongshangcheng"></i>
      </a>
    </li>
    <li>
      <a href="/about">
        <i class="icon iconfont icon-about"></i>
      </a>
    </li>
    <li>
      <a href="/projects">
        <i class="icon iconfont icon-project"></i>
      </a>
    </li>
    <li>
      <a href="/categories">
        <i class="icon iconfont icon-case-file-full"></i>
      </a>
    </li>
    <li>
      <a href="/archives">
        <i class="icon iconfont icon-Artboard2"></i>
      </a>
    </li>
  </ul>
</header>

    <aside>
  <div class="menu">
    

    <a class="menu-item" href="/">Home</a>

    

    <a class="menu-item" href="/about">About</a>

    

    <a class="menu-item" href="/projects">Projects</a>

    

    <a class="menu-item" href="/categories">Categories</a>

    

    <a class="menu-item" href="/archives">Archives</a>

    
  
  </div>
</aside>


    <div class="main"><div class="blog-post">
  
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-text">什么是函数式编程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-text">函数式编程的优势</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%9A%84-5-%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-text">应用函数式编程的 5 种方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%AF%E5%87%80%E5%8C%96-purify-%E5%87%BD%E6%95%B0"><span class="toc-text">纯净化(purify)函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%B8%B8%E9%87%8F%E4%BD%9C%E4%B8%BA%E5%8F%98%E9%87%8F"><span class="toc-text">使用常量作为变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-text">使用箭头函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8%E5%BE%AA%E7%8E%AF%E8%BF%AD%E4%BB%A3"><span class="toc-text">不要使用循环迭代</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E7%B1%BB%E5%9E%8B%E5%86%B2%E7%AA%81"><span class="toc-text">避免类型冲突</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-text">参考资料</span></a></li></ol>
  <div class='blog-main'>

    <!-- title -->
    <h2 class="blog-post-title">
      <a href="/2022/12/06/函数式编程/">
        编写函数式编程方法
      </a>
    </h2>
  
    <!-- date and author -->
    <p class="blog-post-meta">
      2022-12-06 
    </p>
  
  
    <!-- content -->
    <div class="post-content">
      <h2 id="什么是函数式编程"><a href="#什么是函数式编程" class="headerlink" title="什么是函数式编程"></a>什么是函数式编程</h2><p>函数式编程时一种编程的范式，在编写应用中主要使用函数而不是命令式语言。<br>它源于<strong>Lambda Calculus</strong>，是一种演算方法。这种演算方法由 <em>表达式</em> 和由一个表达式映射到另一个表达式的 <em>函数</em> 组成。</p>
<p>JavaScript 本来就是一个多范式语言，所以可以使用命令、面向对象以及函数式来编写。<br>JavaScript 之所以可以接受函数式的范式是因为<strong>函数是一等功名</strong>，它可以被赋值给变量、作为另一个函数的参数、以及作为另一个函数的返回值。<br>同时，React 也采用声明式 API 来响应函数式方法，所以了解函数式编程对深入理解 React 也有帮助。</p>
<h2 id="函数式编程的优势"><a href="#函数式编程的优势" class="headerlink" title="函数式编程的优势"></a>函数式编程的优势</h2><p>函数式编程的语言更加精炼、简洁、优雅。使用函数式编程的代码更易于测试和多线程环境。</p>
<h2 id="应用函数式编程的-5-种方法"><a href="#应用函数式编程的-5-种方法" class="headerlink" title="应用函数式编程的 5 种方法"></a>应用函数式编程的 5 种方法</h2><h3 id="纯净化-purify-函数"><a href="#纯净化-purify-函数" class="headerlink" title="纯净化(purify)函数"></a>纯净化(purify)函数</h3><p>也就是编写纯函数：</p>
<ul>
<li><p>引用透明<br>也就是在参数相同的情况下，始终返回同样的值。</p>
</li>
<li><p>无副作用<br>函数不改变外部作用域</p>
</li>
</ul>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">let</span> minimum <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> checkAge <span class="token operator">=</span> <span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> age <span class="token operator">>=</span> minimum<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>以上示例就不是一个纯函数，因为如果<code>minimum</code>被重新赋值了，<code>checkAge</code>的结果就会发生变化。</p>
<h3 id="使用常量作为变量"><a href="#使用常量作为变量" class="headerlink" title="使用常量作为变量"></a>使用常量作为变量</h3><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>这段代码在数学中是不符合逻辑的，因为如果把等式左右都减去一个<code>x</code>，那么这个等式就是<code>0=1</code>,显然不成立。<br>所以如果想要使用函数式编程，始终使用<code>const</code>来声明变量。</p>
<h3 id="使用箭头函数"><a href="#使用箭头函数" class="headerlink" title="使用箭头函数"></a>使用箭头函数</h3><p>使用箭头函数能够更好地表现映射关系，所以更适用于函数式编程。<br>使用<strong>三元运算符</strong>来表现<code>if...else</code>的逻辑关系。</p>
<h3 id="不要使用循环迭代"><a href="#不要使用循环迭代" class="headerlink" title="不要使用循环迭代"></a>不要使用循环迭代</h3><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    k <span class="token operator">=</span> k <span class="token operator">+</span> i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> k<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上的 for 循环声明了一个<code>let</code>变量，导致了<code>k</code>的值一直处在变化之后，更好的处理方法是使用递归：</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> n <span class="token operator">+</span> <span class="token function">sum</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>实际上数学公式更为简洁：</p>
<pre><code>0.5 * n * (n + 1)
</code></pre>
<h3 id="避免类型冲突"><a href="#避免类型冲突" class="headerlink" title="避免类型冲突"></a>避免类型冲突</h3><p>由于 JS 是一门动态语言，会出现显示或者隐式的类型转换，所以如果想要避免类型冲突的话要各位注意运算法的使用，以及各个值所代表的布尔值。<br>或者一个完全的解决办法是使用 TypeScript。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://www.sitepoint.com/make-javascript-functional/">5 Ways to Make Your JavaScript More Functional - Darren Jones, Olivia Gibson - SitePoint</a></p>

    </div>
  
    <hr>
    
    
       <!-- categories -->
    
       
    <span class="post-categories">
      <i class='icon iconfont icon-icon-goodscategory'></i>
      <a href="/categories/基础知识盘点/">基础知识盘点</a>
    </span>
    
    
       <!-- tag -->
     
    
    <span class="post-tags">
      <i class="icon iconfont icon-tag"></i>
      <a href="/tags/js/">js</a>
    </span>
    
  </div>
</div>


</div>
  
  </body>
</html>
